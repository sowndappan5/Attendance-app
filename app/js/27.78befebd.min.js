/*! Styles - Thu, 03 Oct 2024 20:18:32 GMT */
"use strict";(self.webpackChunkom_api_js=self.webpackChunkom_api_js||[]).push([[27],{7271:function(t,i,s){s.r(i),s.d(i,{default:function(){return h}});var e=s(3231),n=s(8544),o=s(3824);class h{static settings=null;constructor(t){if(this.C=t,this.animate=!1,this.scroll=!0,this.effect="none",null===h.settings){const t=document.body,i=document.documentElement,s=parseInt((0,o.css)(t,"padding-top"));h.settings={bPadding:s,ibPadding:s||0,wHeight:this.C.preview?parseInt((0,o.css)(this.C.preview,"height")):parseInt(i.clientHeight),wWidth:this.C.preview?parseInt((0,o.css)(this.C.preview,"width")):parseInt(i.clientWidth)}}}init(){(0,o.trigger)(document,"Styles.init",{Styles:this,Campaign:this.C}),"floating"===this.C.type&&e.A.isMobile()&&this.mobilePosition(),this.C.settings.changeView||this.monsterEffectOn()}off=()=>{(0,o.trigger)(document,"Styles.off",{Styles:this,Campaign:this.C}),(0,o.removeClass)(document.documentElement,"om-mobile-position"),(0,o.removeClass)(document.documentElement,"om-ios-form");try{(0,o.removeClass)(this.C.viewDiv,"om-animation-"+this.effect)}catch(t){}};resetDimensions=()=>{if(!this.C.preview)return h.settings.wHeight=parseInt(document.documentElement.clientHeight),void(h.settings.wWidth=parseInt(document.documentElement.clientWidth));(0,o.addClass)(document.documentElement,"om-reset-dimensions"),h.settings.wHeight=parseInt((0,o.css)(this.C.preview,"height")),h.settings.wWidth=parseInt((0,o.css)(this.C.preview,"width")),(0,o.removeClass)(document.documentElement,"om-reset-dimensions")};resetBodyPadding=()=>{(0,o.css)(document.body,{"padding-top":`${this.setting("ibPadding")}px`})};mobilePosition=()=>{(0,o.each)((0,o.querySelectorAll)("#om-"+this.C.id+" input[type=text], #om-"+this.C.id+" input[type=email]"),((t,i)=>{(0,o.on)(i,"focus",(()=>{(0,o.addClass)(document.documentElement,"om-mobile-position"),document.body.scrollTop=(0,o.windowScrollTop)()})),(0,o.off)(i,"focus",(()=>{(0,o.removeClass)(document.documentElement,"om-mobile-position")}))}))};resizePageSlide=()=>{(0,o.trigger)(document,"Styles.resizePageSlide",{Styles:this,Campaign:this.C}),this.resetDimensions();let t=this.setting("wHeight"),i=this.C.preview?parseInt((0,o.css)(this.C.preview,"width")):this.setting("wWidth");(0,o.visible)(this.C.contain)||(this.C.contain.style.display="block"),parseInt((0,o.css)(this.C.viewDiv,"height"))>this.setting("wHeight")&&(t=parseInt((0,o.css)(this.C.viewDiv,"height"))+55),this.C.preview||((0,o.css)(document.body,"padding-top",t+this.setting("bPadding")+"px"),(0,o.css)(this.C.contain,{position:"absolute",height:t+"px",width:i+"px"})),this.C.viewDiv.style.display="block",this.positionPopup();let s=this.C.contain.querySelector('[class$="-element-image-background"]');if(s&&(0,o.css)(s,"height",t+"px"),parseInt((0,o.css)(this.C.viewDiv,"height"))>=this.setting("wHeight")&&(0,o.css)(this.C.viewDiv,{margin:"0px",top:"0px"}),!this.C.settings.changeView){const i=document.scrollingElement||document.documentElement;!this.C.settings.exit&&this.scroll?(i.scrollTop=t,(0,o.scroll)(i,0,1250)):i.scrollTop=0}this.scroll=!1};positionPopup=()=>{this.resetDimensions();let t=document.documentElement,i=this.C.viewDiv.offsetWidth,s=this.C.viewDiv.offsetHeight,e=(this.setting("wHeight")-s)/2,h=this.C.Sites.current().settings.affiliateLinkPosition;this.C.settings.changeView&&(this.animate=!1),this.C.Types.isPopup()&&(s>=this.setting("wHeight")?(this.C.Types.isPageSlide()?(0,o.css)(this.C.contain,{overflowY:"hidden"}):((0,o.addClass)(t,"om-position-popup"),this.C.preview&&this.resetDimensions(),(0,o.css)(this.C.contain,{overflowY:"scroll"})),(0,o.css)(this.C.viewDiv,{position:"absolute",top:"20px",left:(this.setting("wWidth")-i)/2+"px",right:"",transform:"translateY(0)",margin:0,marginBottom:this.C.preview?"70px":"20px",transition:this.animate?"top 0.2s ease, left 0.2s ease, margin-bottom 0.2s ease":""}),this.C.options.poweredBy&&("under"===h?(n.C.assassin(this.C),(0,o.css)(this.C.viewDiv,{margin:0,marginBottom:parseInt((0,o.css)(this.C.PoweredBy.link,"height"))+30+"px",transition:this.animate?"top 0.2s ease, left 0.2s ease, margin-bottom 0.2s ease":""})):(n.C.endAssassin(this.C),this.C.PoweredBy.display(!1)))):(this.C.Types.isPageSlide()?(0,o.css)(this.C.contain,{overflowY:"hidden"}):((0,o.addClass)(t,"om-position-popup"),this.C.preview&&this.resetDimensions(),(0,o.css)(this.C.contain,{overflowY:"auto"})),(0,o.css)(this.C.viewDiv,{transition:"none"}),(0,o.css)(this.C.viewDiv,{top:e+"px",left:(this.setting("wWidth")-i)/2+"px",right:"",transform:"translateY(0)",position:"absolute",margin:0,marginBottom:0,transition:this.animate?"top 0.2s ease, left 0.2s ease, margin-bottom 0.2s ease":""}),this.C.options.poweredBy&&(n.C.assassin(this.C),"under"===h?(0,o.css)(this.C.viewDiv,{marginBottom:0,transition:this.animate?"top 0.2s ease, left 0.2s ease, margin-bottom 0.2s ease":""}):this.C.PoweredBy.display())),this.animate=!0,(0,o.trigger)(document,"Styles.positionPopup",{Styles:this,Campaign:this.C}))};positionFloating=()=>{if((0,o.trigger)(document,"Styles.positionFloating",{Styles:this,Campaign:this.C}),!this.C.preview){(0,o.addClass)(document.documentElement,`om-position-floating-${this.C.options.position}`),(0,o.css)(this.C.contain,{[this.C.options.position]:this.C.preview&&"top"===this.C.options.position?"50px":0,transition:this.C.options.position+" 0.3s ease"});let t="padding-"+this.C.options.position,i=this.C.PoweredBy&&this.C.PoweredBy.link?[this.C.PoweredBy.link]:[];this.C.Timeouts.set((()=>{(0,o.css)(document.documentElement,{[t]:(0,o.floatingHeight)(this.C.contain,this.C.options.position,i)+"px"}),(0,o.trigger)(document,"Styles.positionFloating.complete",{Styles:this,Campaign:this.C})}),50)}};monsterEffectOn=()=>{(0,o.addClass)(this.C.viewDiv,"om-animated om-animation-"+this.effect)};monsterEffectOff=()=>{this.C.is()&&(0,o.removeClass)(this.C.viewDiv,"om-animated om-animation-"+this.effect)};setting=t=>h.settings[t]}}}]);